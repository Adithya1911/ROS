
RUNNING OF THE NODE IN THE ROS SYSTEM

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Ensuring the ROS Master Node (roscore) is Running

Before creating or running any ROS nodes, ensure that the ROS master node, /rosout, is active. The ROS master node is essential for communication between nodes. To check if the master node is running, use the following command in the terminal:

rosnode list

If the /rosout node is not listed, the ROS master node is not running. To start the master node, use:

roscore

Note: The ROS master node (roscore) runs in a single terminal. If you attempt to run roscore in another terminal while it’s already active, you will receive a message indicating that a master node is already running. This prevents multiple instances and ensures that there is only one master node managing all ROS operations.

Once roscore is running, you can proceed with other ROS commands in different terminals.
Running a ROS Node

To run a specific node within a package, use the following command:

rosrun package_name node_name

Example: If you want to run the talker node in the rospy_tutorials package:

rosrun rospy_tutorials talker

Visualizing Node Connections with rqt_graph

To see a graphical representation of the nodes and topics, use:

rqt_graph

This tool provides a visual overview of the node connections, helping you understand the communication flow within your ROS system.

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


Basic Testing with turtlesim in a ROS Workspace


------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Running the turtlesim_node:

To start the graphical interface that displays a turtle in a window, use the following command:

rosrun turtlesim turtlesim_node

This command opens a window with a turtle on a blue background. The turtlesim_node publishes the turtle's pose and color sensor data on the turtle1/pose and turtle1/color_sensor topics, respectively.

Controlling the Turtle:

To move the turtle, open a new terminal while keeping the turtlesim_node and ROS master running simultaneously. Run the following command to control the turtle using your keyboard:

rosrun turtlesim turtle_teleop_key

This command allows you to navigate the turtle with the following keys:

    Up arrow or w: Move forward
    Down arrow or x: Move backward
    Left arrow or a: Rotate counterclockwise
    Right arrow or d: Rotate clockwise
    q: Quit

Ensure the terminal running turtle_teleop_key is in focus to control the turtle's movement.

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------



CREATION OF NODE WITH USING PYTHON AND MAKING THEM INTO THE EXECUTABLE CODE


------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Create a Directory for Scripts:

To keep your code organized within the package, it’s good practice to create a directory for your scripts. For Python scripts, you can use a directory named scripts. Run the following command inside your package directory:

mkdir scripts

Create a Python Script File:

Navigate into the scripts directory and create the Python script file you want to execute. Use the touch command to create the file:

cd scripts

touch test_node.py

Make the Script Executable:

After creating the file, you need to make it executable. Use the following command:

chmod +x test_node.py

Ensure the ROS Master Node is Running:

Before running any ROS node, make sure that the ROS master node (roscore) is running. If it isn’t, start it with:

roscore

Writing and Executing Your Script:

Open test_node.py in your preferred text editor and write the code necessary for your ROS operations. Once the code is written and saved, make sure the file is executable (if you haven’t already) with:

chmod +x test_node.py

Running the Node:

To execute the node, ensure you are in the root of your workspace, then use the following command:

rosrun your_package_name test_node.py

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

CREATING THE NODE WHICH CONTAINS THE PUBLISHER

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Prerequisites

Ensure that the ROS master node is running in a separate terminal before executing any other ROS nodes. Use the following command to start the master node if it is not already running:
roscore

Example Python ROS Node

To create a ROS node that publishes velocity commands to a TurtleSim, use the following script. Save this script as draw_cycle.py in the scripts directory of your ROS package:

#!/usr/bin/env python3
import rospy
from geometry_msgs.msg import Twist

if __name__ == '__main__':
    # Initialize the ROS node
    rospy.init_node('draw_cycle')
    rospy.loginfo('Node /draw_cycle is started running')
    
    # Create a publisher to the /turtle1/cmd_vel topic
    pub = rospy.Publisher('/turtle1/cmd_vel', Twist, queue_size=10)
    
    # Set the publishing rate (10 Hz)
    rate = rospy.Rate(10)
    
    while not rospy.is_shutdown():
        # Create a Twist message
        twist = Twist()
        
        # Set the linear and angular velocities
        twist.linear.x = 0.5
        twist.angular.z = 0.2
        
        # Publish the Twist message
        pub.publish(twist)
        
        # Sleep to maintain the loop rate
        rate.sleep()


Steps to Execute the Node:

    Create the Python File: Save the above code in a file named draw_cycle.py in the scripts directory of your ROS package.

    Make the File Executable: Use the command chmod +x draw_cycle.py to make the script executable.

    Run the Node: In a terminal, navigate to your ROS workspace and use rosrun your_package_name draw_cycle.py to run the node.

Understanding ROS Topics and Messages

    Publisher and Topic Information: The publisher in the script sends messages to the /turtle1/cmd_vel topic, which controls the velocity of the turtle in the TurtleSim. To get detailed information about this topic, use rostopic info /turtle1/cmd_vel. This command shows information about the topic type, publishers, and subscribers.

    Message Details: To understand the structure of the message being sent, use rosmsg show geometry_msgs/Twist. This command displays the details of the geometry_msgs/Twist message type, which includes linear and angular velocities.

    Queue Size: The queue_size parameter in the rospy.Publisher constructor specifies the size of the message queue used by the publisher. It helps in managing message flow and handling buffering.

Updating package.xml

When adding new dependencies to your package, update the package.xml file. Ensure that you include the necessary packages such as geometry_msgs in the <depend> section. The format for adding dependencies should follow the existing entries in your package.xml file.

Example:
<depend>geometry_msgs</depend>
Notes for Your Project

    Publisher Topic: /turtle1/cmd_vel
    Message Type: geometry_msgs/Twist
    Message Contents: Linear and angular velocities for controlling the TurtleSim


------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
